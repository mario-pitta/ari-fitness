"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5248],{5248:(O,b,u)=>{u.r(b),u.d(b,{PessoaFormPageModule:()=>v});var P=u(177),l=u(9417),S=u(9554),C=u(7791),F=u(1587),e=u(3953);const I=[{path:"",component:F.h}];let T=(()=>{var f;class E{}return(f=E).\u0275fac=function(M){return new(M||f)},f.\u0275mod=e.$C({type:f}),f.\u0275inj=e.G2t({imports:[C.iI.forChild(I),C.iI]}),E})(),v=(()=>{var f;class E{}return(f=E).\u0275fac=function(M){return new(M||f)},f.\u0275mod=e.$C({type:f}),f.\u0275inj=e.G2t({imports:[P.MD,l.YN,l.X1,S.bv,T]}),E})()},1587:(O,b,u)=>{u.d(b,{h:()=>Ne});var P=u(467),l=u(9417),S=u(7468),C=u(8810),F=u(4321),e=u(3953),I=u(6539),T=u(1907),v=u(6354),f=u(6697),E=u(5312),y=u(1626);let M=(()=>{var n;class o{constructor(t){this.http=t}findAll(){return this.http.get(E.c.apiUrl+"/tipo_usuario?fl_ativo=true").pipe((0,v.T)(t=>t.sort((i,a)=>i.descricao.localeCompare(a.descricao)).map(i=>({...i,descricao:i.descricao.toUpperCase()}))),(0,f.s)(1))}}return(n=o).\u0275fac=function(t){return new(t||n)(e.KVO(y.Qq))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),o})(),X=(()=>{var n;class o{constructor(t){this.http=t}findAll(){return this.http.get(E.c.apiUrl+"/planos").pipe((0,f.s)(1))}findByFilters(t){const i=Object.keys(t).map(a=>`${a}=${t[a]}`);return this.http.get(E.c.apiUrl+"/planos?"+i).pipe((0,f.s)(1))}}return(n=o).\u0275fac=function(t){return new(t||n)(e.KVO(y.Qq))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),o})(),K=(()=>{var n;class o{constructor(t){this.http=t}findAll(){return this.http.get(E.c.apiUrl+"/horarios").pipe((0,f.s)(1))}findByFilters(t){const i=Object.keys(t).map(a=>`${a}=${t[a]}`);return console.log("query"),this.http.get(E.c.apiUrl+"/horarios?"+i).pipe((0,f.s)(1))}}return(n=o).\u0275fac=function(t){return new(t||n)(e.KVO(y.Qq))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),o})();var W=u(7791),j=u(177),g=u(9554);function $(n){const{anchorOffset:o=0,focusOffset:s=0}=n.ownerDocument.getSelection()||{};return[Math.min(o,s),Math.max(o,s)]}class J{constructor(o){this.element=o,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,"\n")}set value(o){this.element.innerHTML=o.replace(/\n$/,"\n\n")}get selectionStart(){return $(this.element)[0]}get selectionEnd(){return $(this.element)[1]}setSelectionRange(o,s){!function Q(n,[o,s]){var t,i;const a=n.ownerDocument,r=a.createRange();r.setStart(n.firstChild||n,Math.min(o,(null===(t=n.textContent)||void 0===t?void 0:t.length)||0)),r.setEnd(n.lastChild||n,Math.min(s,(null===(i=n.textContent)||void 0===i?void 0:i.length)||0));const c=a.getSelection();c&&(c.removeAllRanges(),c.addRange(r))}(this.element,[o||0,s||0])}select(){this.setSelectionRange(0,this.value.length)}}const z=n=>n.isContentEditable?function Z(n){const o=new J(n);return new Proxy(n,{get(s,t){if(t in o)return o[t];const i=s[t];return"function"==typeof i?i.bind(s):i},set:(s,t,i,a)=>Reflect.set(t in o?o:s,t,i,a)})}(n):n.querySelector("input,textarea")||n,U={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"};class ee{constructor(){this.now=null,this.past=[],this.future=[]}undo(){const o=this.past.pop();o&&this.now&&(this.future.push(this.now),this.updateElement(o,"historyUndo"))}redo(){const o=this.future.pop();o&&this.now&&(this.past.push(this.now),this.updateElement(o,"historyRedo"))}updateHistory(o){if(!this.now)return void(this.now=o);const s=this.now.value!==o.value,t=this.now.selection.some((i,a)=>i!==o.selection[a]);!s&&!t||(s&&(this.past.push(this.now),this.future=[]),this.now=o)}updateElement(o,s){this.now=o,this.updateElementState(o,{inputType:s,data:null})}}function N(n){return"string"==typeof n}function G(n,o,s,t){let i="";for(let a=o.length;a<n.length;a++){const r=n[a],c=(null==t?void 0:t.value[a])===r;if(!N(r)||r===s&&!c)return i;i+=r}return i}function Y(n,o){return Array.isArray(o)?n.length===o.length&&Array.from(n).every((s,t)=>{const i=o[t];return N(i)?s===i:s.match(i)}):o.test(n)}function A(n,o,s=null){if(Y(n.value,o))return n;const{value:t,selection:i}=Array.isArray(o)?function oe(n,o,s){let t=null,i=null;const a=Array.from(n.value).reduce((c,d,p)=>{const h=c+G(o,c,d,s),k=o[h.length];return N(k)?h+k:d.match(k)?(null===t&&p>=n.selection[0]&&(t=h.length),null===i&&p>=n.selection[1]&&(i=h.length),h+d):h},""),r=G(o,a,"",s);return{value:Y(a+r,o)?a+r:a,selection:[null!=t?t:a.length,null!=i?i:a.length]}}(n,o,s):function ie({value:n,selection:o},s){const[t,i]=o;let a=t,r=i;return{value:Array.from(n).reduce((d,p,m)=>{const h=d+p;return t===m&&(a=d.length),i===m&&(r=d.length),h.match(s)?h:d},""),selection:[a,r]}}(n,o);return{selection:i,value:Array.isArray(o)?t.slice(0,o.length):t}}function B(n,o){if(!Array.isArray(o))return n;const[s,t]=n.selection,i=[],a=Array.from(n.value).reduce((r,c,d)=>{const p=o[d];return d===s&&i.push(r.length),d===t&&i.push(r.length),N(p)&&p===c?r:r+c},"");return i.length<2&&i.push(...new Array(2-i.length).fill(a.length)),{value:a,selection:[i[0],i[1]]}}class V{constructor(o,s){this.initialElementState=o,this.maskOptions=s,this.value="",this.selection=[0,0];const{value:t,selection:i}=A(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=t,this.selection=i}addCharacters([o,s],t){const{value:i}=this,a=this.getMaskExpression({value:i.slice(0,o)+t+i.slice(s),selection:[o+t.length,o+t.length]}),r={value:i,selection:[o,s]},c=B(r,a),[d,p]=function ne({value:n,selection:o},s,t){const[i,a]=o;return{value:n,selection:"replace"===("function"==typeof t?t({value:n,selection:o}):t)?[i,i+s.length]:[i,a]}}(c,t,this.maskOptions.overwriteMode).selection,m=c.value.slice(0,d)+t,h=m.length,k=A({value:m+c.value.slice(p),selection:[h,h]},a,r);if(i.slice(0,d)===A({value:m,selection:[h,h]},a,r).value||function w(n,...o){return o.every(({value:s,selection:t})=>s===n.value&&t[0]===n.selection[0]&&t[1]===n.selection[1])}(this,k))throw new Error("Invalid mask value");this.value=k.value,this.selection=k.selection}deleteCharacters([o,s]){if(o===s||!s)return;const{value:t}=this,i=this.getMaskExpression({value:t.slice(0,o)+t.slice(s),selection:[o,o]}),a={value:t,selection:[o,s]},r=B(a,i),[c,d]=r.selection,m=A({value:r.value.slice(0,c)+r.value.slice(d),selection:[c,c]},i,a);this.value=m.value,this.selection=m.selection}getMaskExpression(o){const{mask:s}=this.maskOptions;return"function"==typeof s?s(o):s}}class se{constructor(o){this.element=o,this.listeners=[]}listen(o,s,t){const i=s;this.element.addEventListener(o,i,t),this.listeners.push(()=>this.element.removeEventListener(o,i))}destroy(){this.listeners.forEach(o=>o())}}const __CTRL=1,__ALT=2,__SHIFT=4,__META=8;function R(n,o,s){return n.ctrlKey===!!(o&__CTRL)&&n.altKey===!!(o&__ALT)&&n.shiftKey===!!(o&__SHIFT)&&n.metaKey===!!(o&__META)&&n.keyCode===s}function le({value:n,selection:o},s){const[t,i]=o;if(t!==i)return[t,i];const a=s?n.slice(t).indexOf("\n")+1||n.length:n.slice(0,i).lastIndexOf("\n")+1;return[s?t:a,s?a:i]}function ce({value:n,selection:o},s){const[t,i]=o;return t!==i?[t,i]:(s?[t,i+1]:[t-1,i]).map(r=>Math.min(Math.max(r,0),n.length))}const ue=/\s+$/g,de=/^\s+/g,q=/\s/;function me({value:n,selection:o},s){const[t,i]=o;if(t!==i)return[t,i];if(s){const d=n.slice(t),[p]=d.match(de)||[""],m=d.trimStart().search(q);return[t,-1!==m?t+p.length+m:n.length]}const a=n.slice(0,i),[r]=a.match(ue)||[""],c=a.trimEnd().split("").reverse().findIndex(d=>d.match(q));return[-1!==c?i-r.length-c:0,i]}function D(n=[]){return(o,...s)=>n.reduce((t,i)=>Object.assign(Object.assign({},t),i(t,...s)),o)}function L(n,o){const s=Object.assign(Object.assign({},U),o),t=D(s.preprocessors),i=D(s.postprocessors),a="string"==typeof n?{value:n,selection:[0,0]}:n,{elementState:r}=t({elementState:a,data:""},"validation"),c=new V(r,s),{value:d,selection:p}=i(c,a);return"string"==typeof n?d:{value:d,selection:p}}class pe extends ee{constructor(o,s){super(),this.element=o,this.maskitoOptions=s,this.isTextArea="TEXTAREA"===this.element.nodeName,this.eventListener=new se(this.element),this.options=Object.assign(Object.assign({},U),this.maskitoOptions),this.preprocessor=D(this.options.preprocessors),this.postprocessor=D(this.options.postprocessors),this.teardowns=this.options.plugins.map(t=>t(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",t=>function ae(n){return R(n,__CTRL,89)||R(n,__CTRL|__SHIFT,90)||R(n,__META|__SHIFT,90)}(t)?(t.preventDefault(),this.redo()):function re(n){return R(n,__CTRL,90)||R(n,__META,90)}(t)?(t.preventDefault(),this.undo()):void 0),this.eventListener.listen("beforeinput",t=>{var i;const a=t.inputType.includes("Forward");switch(this.updateHistory(this.elementState),t.inputType){case"historyUndo":return t.preventDefault(),this.undo();case"historyRedo":return t.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:t,isForward:a,selection:ce(this.elementState,a)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:t,isForward:a,selection:me(this.elementState,a),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:t,isForward:a,selection:le(this.elementState,a),force:!0});case"insertCompositionText":case"insertReplacementText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(t);default:return this.handleInsert(t,t.data||(null===(i=t.dataTransfer)||void 0===i?void 0:i.getData("text/plain"))||"")}}),this.eventListener.listen("input",({inputType:t})=>{"insertCompositionText"!==t&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){const{value:o,selectionStart:s,selectionEnd:t}=this.element;return{value:o,selection:[s||0,t||0]}}get maxLength(){const{maxLength:o}=this.element;return-1===o?1/0:o}destroy(){this.eventListener.destroy(),this.teardowns.forEach(o=>null==o?void 0:o())}updateElementState({value:o,selection:s},t={inputType:"insertText",data:null}){const i=this.elementState.value;this.updateValue(o),this.updateSelectionRange(s),i!==o&&this.dispatchInputEvent(t)}updateSelectionRange([o,s]){var t;const{element:i}=this;i.matches(":focus")&&(i.selectionStart!==o||i.selectionEnd!==s)&&(null===(t=i.setSelectionRange)||void 0===t||t.call(i,o,s))}updateValue(o){this.element.value=o}ensureValueFitsMask(){this.updateElementState(L(this.elementState,this.options))}dispatchInputEvent(o={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},o),{bubbles:!0,cancelable:!1})))}handleDelete({event:o,selection:s,isForward:t,force:i=!1}){const a={value:this.elementState.value,selection:s},[r,c]=a.selection,{elementState:d}=this.preprocessor({elementState:a,data:""},t?"deleteForward":"deleteBackward"),p=new V(d,this.options),[m,h]=d.selection;p.deleteCharacters([m,h]);const k=this.postprocessor(p,a);if(a.value.slice(0,r)+a.value.slice(c)!==k.value||i||this.element.isContentEditable){if(o.preventDefault(),function te(n,...o){return o.every(({value:s})=>s===n.value)}(a,d,p,k))return this.updateSelectionRange(t?[h,h]:[m,m]);this.updateElementState(k,{inputType:o.inputType,data:null}),this.updateHistory(k)}}handleInsert(o,s){const t=this.elementState,{elementState:i,data:a=s}=this.preprocessor({data:s,elementState:t},"insert"),r=new V(i,this.options);try{r.addCharacters(i.selection,a)}catch{return o.preventDefault()}const[c,d]=i.selection,p=t.value.slice(0,c)+s+t.value.slice(d),m=this.postprocessor(r,t);if(m.value.length>this.maxLength)return o.preventDefault();(p!==m.value||this.element.isContentEditable)&&(o.preventDefault(),this.updateElementState(m,{data:s,inputType:o.inputType}),this.updateHistory(m))}handleEnter(o){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(o,"\n")}}let he=(()=>{var n;class o{constructor(){this.elementRef=(0,e.WQX)(e.aKT).nativeElement,this.ngZone=(0,e.WQX)(e.SKi),this.maskedElement=null,this.options=null,this.elementPredicate=z;const t=(0,e.WQX)(l.me,{self:!0,optional:!0});if(t){const i=t.writeValue.bind(t);t.writeValue=a=>{i(this.options?L(String(null!=a?a:""),this.options):a)}}}ngOnChanges(){var t=this;return(0,P.A)(function*(){var i;const{elementPredicate:a,options:r}=t;if(null===(i=t.maskedElement)||void 0===i||i.destroy(),!r)return;const c=yield a(t.elementRef);t.elementPredicate===a&&t.ngZone.runOutsideAngular(()=>{t.maskedElement=new pe(c,r)})})()}ngOnDestroy(){var t;null===(t=this.maskedElement)||void 0===t||t.destroy()}}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.FsC({type:n,selectors:[["","maskito",""]],inputs:{options:[0,"maskito","options"],elementPredicate:[0,"maskitoElement","elementPredicate"]},standalone:!0,features:[e.OA$]}),o})();const fe=()=>[5,10,15,20,25,30],ge=()=>({standalone:!0}),ve=()=>[1,2,3];function Ee(n,o){if(1&n&&(e.j41(0,"ion-select-option",17),e.EFF(1),e.k0s()),2&n){const s=o.$implicit;e.Y8G("value",s.id),e.R7$(),e.SpI("",s.descricao," ")}}function ke(n,o){1&n&&(e.j41(0,"ion-checkbox",26),e.EFF(1,"Adminstrador "),e.k0s())}function _e(n,o){if(1&n&&(e.qex(0),e.DNE(1,ke,2,0,"ion-checkbox",25),e.bVm()),2&n){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.form.value.tipo_usuario)}}function Fe(n,o){if(1&n&&(e.j41(0,"ion-select-option",17),e.EFF(1),e.k0s()),2&n){const s=o.$implicit;e.Y8G("value",s.id),e.R7$(),e.Lme(" ",s.hora_inicio," - ",s.hora_fim,"")}}function Ce(n,o){if(1&n&&(e.j41(0,"ion-select-option",17),e.EFF(1),e.k0s()),2&n){const s=o.$implicit;e.Y8G("value",s.id),e.R7$(),e.SpI("",s.descricao," ")}}function be(n,o){if(1&n&&(e.j41(0,"ion-select-option",17),e.EFF(1),e.k0s()),2&n){const s=o.$implicit;e.Y8G("value",s),e.R7$(),e.SpI("",s," ")}}function Pe(n,o){1&n&&(e.qex(0),e.nrm(1,"ion-input",48),e.bVm())}function ye(n,o){1&n&&(e.qex(0),e.nrm(1,"ion-input",49),e.bVm())}function Se(n,o){1&n&&e.nrm(0,"ion-input",49)}function Ie(n,o){1&n&&e.nrm(0,"ion-input",50)}function Te(n,o){if(1&n&&(e.j41(0,"ion-select-option",51),e.EFF(1),e.nrm(2,"ion-icon",52),e.k0s()),2&n){const s=o.$implicit;e.Y8G("value",s)("ngClass",1===s?"ion-text-success":2===s?"ion-text-warning":"ion-text-danger"),e.R7$(),e.SpI(" ",s," "),e.R7$(),e.Y8G("color",1===s?"success":2===s?"warning":"danger")}}function Me(n,o){if(1&n){const s=e.RV6();e.nrm(0,"br"),e.j41(1,"ion-row")(2,"ion-col",27)(3,"ion-select",28)(4,"ion-select-option",17),e.EFF(5,"--SELECIONE--"),e.k0s(),e.DNE(6,Fe,2,3,"ion-select-option",21),e.k0s()(),e.j41(7,"ion-col",27)(8,"ion-select",29)(9,"ion-select-option",17),e.EFF(10,"--SELECIONE--"),e.k0s(),e.DNE(11,Ce,2,2,"ion-select-option",21),e.k0s()()(),e.j41(12,"ion-row")(13,"ion-select",30)(14,"ion-select-option",17),e.EFF(15,"--SELECIONE--"),e.k0s(),e.DNE(16,be,2,2,"ion-select-option",21),e.k0s()(),e.nrm(17,"br"),e.j41(18,"h1"),e.EFF(19,"Medidas B\xe1sicas"),e.k0s(),e.nrm(20,"br"),e.j41(21,"ion-row")(22,"ion-col",27)(23,"div",11)(24,"ion-input",31),e.bIt("ionChange",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.calcIMC())}),e.k0s()()(),e.j41(25,"ion-col",27)(26,"div",11)(27,"ion-input",32),e.bIt("ionChange",function(){e.eBV(s);const i=e.XpG();return e.Njj(i.calcIMC())}),e.k0s()()(),e.j41(28,"ion-col",27)(29,"div",11),e.nrm(30,"ion-input",33),e.k0s()(),e.j41(31,"ion-col",27)(32,"div",11)(33,"ion-input",34),e.mxI("ngModelChange",function(i){e.eBV(s);const a=e.XpG();return e.DH7(a.imcIdeal,i)||(a.imcIdeal=i),e.Njj(i)}),e.k0s()()()(),e.nrm(34,"br"),e.j41(35,"h1"),e.EFF(36,"Anaminese"),e.k0s(),e.nrm(37,"br"),e.j41(38,"div",11)(39,"ion-checkbox",35,2),e.EFF(41,"Tenho alguma patologia."),e.k0s(),e.DNE(42,Pe,2,0,"ng-container",36),e.k0s(),e.j41(43,"div",11)(44,"ion-checkbox",37,3),e.EFF(47,"Uso ou estou usando alguma medica\xe7\xe3o."),e.k0s(),e.DNE(48,ye,2,0,"ng-container",36),e.k0s(),e.j41(49,"div",11)(50,"ion-checkbox",35,4),e.EFF(52," Passei por cirurgia, interna\xe7\xe3o e/ou fraturas nos \xfaltimos 6 meses. "),e.k0s(),e.DNE(53,Se,1,0,"ion-input",38),e.k0s(),e.j41(54,"div",11)(55,"ion-checkbox",39),e.EFF(56,"Eu sou, ou tenho cardiop\xe1ta(s) na fam\xedlia "),e.k0s()(),e.j41(57,"div",11)(58,"ion-checkbox",35,5),e.EFF(60,"Sinto dores frequentes, ou senti dores nas \xfaltimas semanas. "),e.k0s(),e.DNE(61,Ie,1,0,"ion-input",40),e.k0s(),e.nrm(62,"br"),e.j41(63,"h1"),e.EFF(64,"Antecedente Familiar (M\xe3e, Pai, Av\xf3s)"),e.k0s(),e.nrm(65,"br"),e.j41(66,"div",11)(67,"ion-checkbox",41),e.EFF(68,"Tenho diab\xe9tes ou algu\xe9m pr\xf3ximo de mim tem."),e.k0s()(),e.j41(69,"div",11)(70,"ion-checkbox",42),e.EFF(71,"J\xe1 houve Acidente Vascular Cerebral (AVC) na fam\xedlia."),e.k0s()(),e.j41(72,"div",11)(73,"ion-checkbox",43),e.EFF(74,"J\xe1 infartei, ou algu\xe9m pr\xf3ximo infartou."),e.k0s()(),e.j41(75,"div",11)(76,"ion-checkbox",44),e.EFF(77,"Tenho press\xe3o arterial fora do padr\xe3o para minha idade. "),e.k0s()(),e.j41(78,"div",11)(79,"ion-select",45)(80,"ion-select-option",17),e.EFF(81,"--SELECIONE--"),e.k0s(),e.DNE(82,Te,3,4,"ion-select-option",46),e.k0s()(),e.j41(83,"div",11),e.nrm(84,"ion-textarea",47),e.k0s(),e.nrm(85,"br")}if(2&n){const s=e.sdS(40),t=e.sdS(45),i=e.sdS(51),a=e.sdS(59),r=e.XpG();e.R7$(3),e.Y8G("value",null),e.R7$(),e.Y8G("value",null),e.R7$(2),e.Y8G("ngForOf",r.horarios),e.R7$(2),e.Y8G("value",null),e.R7$(),e.Y8G("value",null),e.R7$(2),e.Y8G("ngForOf",r.planos),e.R7$(2),e.Y8G("value",null),e.R7$(),e.Y8G("value",null),e.R7$(2),e.Y8G("ngForOf",e.lJ4(24,fe)),e.R7$(8),e.Y8G("maskitoElement",r.maskPredicate)("maskito",r.alturaMask),e.R7$(3),e.Y8G("maskitoElement",r.maskPredicate)("maskito",r.pesoMask),e.R7$(6),e.R50("ngModel",r.imcIdeal),e.Y8G("ngModelOptions",e.lJ4(25,ge)),e.R7$(9),e.Y8G("ngIf",!0===s.checked),e.R7$(6),e.Y8G("ngIf",!0===t.checked),e.R7$(5),e.Y8G("ngIf",!0===i.checked),e.R7$(8),e.Y8G("ngIf",!0===a.checked),e.R7$(18),e.Y8G("value",null)("ngClass",1===r.form.value.classificacao_risco?"ion-text-success":2===r.form.value.classificacao_risco?"ion-text-warning":"ion-text-danger"),e.R7$(),e.Y8G("value",null),e.R7$(2),e.Y8G("ngForOf",e.lJ4(26,ve)),e.R7$(2),e.Y8G("counterFormatter",r.customCounterFormatter)}}function xe(n,o){1&n&&(e.j41(0,"span"),e.EFF(1," Enviar "),e.k0s())}function Re(n,o){1&n&&e.nrm(0,"ion-spinner",53)}let Ne=(()=>{var n;class o{onFormChange(t){console.log(t),console.log(this.form)}constructor(t,i,a,r,c,d,p){this.fb=t,this.toastr=i,this.usuarioService=a,this.tipoUsuarioService=r,this.planoService=c,this.horarioService=d,this.aRoute=p,this.loading=!1,this.phoneMask={mask:["(",/\d/,/\d/,")"," ",/\d/," ",/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]},this.cpfMask={mask:[/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,"-",/\d/,/\d/]},this.alturaMask={mask:[/\d/,".",/\d/,/\d/]},this.pesoMask={mask:[/\d/,/\d/,".",/\d/,/\d/]},this.tipoUsuarioList=[],this.maskPredicate=function(){var m=(0,P.A)(function*(h){return h.getInputElement()});return function(h){return m.apply(this,arguments)}}(),this.planos=[],this.horarios=[],this.form=new l.gE({}),this.imcIdeal=0,this.rcqIdeal=0}ngOnInit(){console.log('this.aRoute.snapshot.params["id"] : ',this.aRoute.snapshot.params.id),this.createForm(),this.loadData()}loadData(){(0,S.p)([this.getTipoUsuarioList(),this.getActiveHorarios(),this.getActivePlans()]).subscribe({next:t=>{console.log("tipoUsuario, horarios, planos: ",t)},error:t=>{this.loading=!1,(0,C.$)(t)}})}getActivePlans(){return this.planoService.findByFilters({fl_ativo:!0}).subscribe({next:t=>{this.planos=t},error:t=>{this.loading=!1,console.error(t),(0,C.$)(t)}})}getActiveHorarios(){return this.horarioService.findByFilters({fl_ativo:!0}).subscribe({next:t=>{this.horarios=t},error:t=>{this.loading=!1,console.error(t),(0,C.$)(t)}})}getTipoUsuarioList(){return this.loading=!0,this.tipoUsuarioService.findAll().subscribe({next:t=>{t&&(this.tipoUsuarioList=t)},error:t=>{this.loading=!1,(0,C.$)(t)},complete:()=>{this.loading=!1}})}calcIMC(){console.log("calculando imc ideal",Number(this.form.value.peso),Number(this.form.value.altura)),this.imcIdeal=Number(this.form.value.peso)/Math.pow(Number(this.form.value.altura),2),this.imcIdeal=Number(this.imcIdeal.toFixed(2)),console.log(this.imcIdeal)}calcRCQ(){console.log("calculando rcq ideal"),this.imcIdeal=Number((this.form.value.peso/Math.pow(this.form.value.peso,2)).toFixed(2)),console.log(this.imcIdeal)}createForm(){this.form=this.fb.group({id:[null,[l.k0.nullValidator]],nome:["",[l.k0.required]],data_nascimento:null,tipo_usuario:[Number(this.aRoute.snapshot.params.id),[l.k0.required]],genero:["",[l.k0.required]],peso:[null,[Number(this.aRoute.snapshot.params.id)==F.A.ALUNO_ID?l.k0.required:l.k0.nullValidator]],altura:[null,[Number(this.aRoute.snapshot.params.id)==F.A.ALUNO_ID?l.k0.required:l.k0.nullValidator]],cpf:[null,[l.k0.required]],plano:[null,[Number(this.aRoute.snapshot.params.id)==F.A.ALUNO_ID?l.k0.required:l.k0.nullValidator]],horario_id:[null,[Number(this.aRoute.snapshot.params.id)==F.A.ALUNO_ID?l.k0.required:l.k0.nullValidator]],whatsapp:["",[l.k0.required]],doencas:["",[l.k0.nullValidator]],objetivo:[null,[l.k0.nullValidator]],tipo_alimentacao:[null,[l.k0.nullValidator]],senha:[null,[l.k0.nullValidator]],rcq:[null,[l.k0.nullValidator]],imc:[null,[l.k0.nullValidator]],flagAdmin:[!1,[l.k0.required]],fl_ativo:[!0,[l.k0.required]],foto_url:["",[l.k0.nullValidator]],avc:[!1,[l.k0.required]],dac:[!1,[l.k0.required]],diabete:[!1,[l.k0.required]],pressao_arterial:[!1,[l.k0.required]],cardiopata:[!1,[l.k0.required]],infarto:[!1,[l.k0.required]],fumante:[!1,[l.k0.required]],relato_dor:[!1,[l.k0.required]],medicacao_em_uso:[!1,[l.k0.required]],profissao:[!1,[l.k0.required]],fl_pratica_atividade_fisica:[!1,[l.k0.required]],data_vencimento:[null,[Number(this.aRoute.snapshot.params.id)==F.A.ALUNO_ID?l.k0.required:l.k0.nullValidator]],created_at:[null,[l.k0.nullValidator]],classificacao_risco:[1,[l.k0.nullValidator]],observacoes:["",[l.k0.nullValidator]]})}customCounterFormatter(t,i){return i-t+" characters remaining"}onChangeTipoUser(){var t,i,a;const r=this.form.value.tipo_usuario;this.form.patchValue({flagAdmin:null===(t=this.tipoUsuarioList.find(c=>c.id==r))||void 0===t?void 0:t.adm_padrao}),r===F.A.ALUNO_ID?(this.form.controls.plano.setValidators(l.k0.required),this.form.controls.horario_id.setValidators(l.k0.required)):(this.form.controls.plano.setValidators(l.k0.nullValidator),this.form.controls.horario_id.setValidators(l.k0.nullValidator)),null===(i=this.form.get("horario_id"))||void 0===i||i.updateValueAndValidity(),null===(a=this.form.get("plano"))||void 0===a||a.updateValueAndValidity()}submitForm(){this.loading=!0,this.usuarioService.create(this.form.value).subscribe({next:t=>{console.log("ok"),this.toastr.success("Usu\xe1rio cadastrado com sucesso!"),this.createForm()},error:t=>{this.loading=!1,console.log(t),this.loading=!1},complete:()=>{this.loading=!1}})}}return(n=o).\u0275fac=function(t){return new(t||n)(e.rXU(l.ok),e.rXU(I.t),e.rXU(T.o),e.rXU(M),e.rXU(X),e.rXU(K),e.rXU(W.nX))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-pessoa-form"]],decls:40,vars:17,consts:[["alunoForm",""],["spinner",""],["temDoenca",""],["flagMedicamento","","label",""],["cirurgia",""],["relato_dor",""],[3,"translucent"],[3,"fullscreen"],[1,""],[1,"ion-padding"],[1,"ion-text-left",3,"ionChange","formGroup"],[1,"form-group"],["formControlName","nome","autocapitalize","words","label","Nome"],["formControlName","data_nascimento","label","Data de Nascimento","type","date"],["formControlName","cpf","label","CPF","type","text","placeholder","000.000.000-00",3,"maskito","maskitoElement"],["formControlName","whatsapp","label","Whatsapp","type","text","placeholder","(00) 0 0000-0000",3,"maskito","maskitoElement"],["formControlName","genero","label","G\xeanero","placeholder","--SELECIONE--",3,"value"],[3,"value"],["value","M"],["value","F"],["formControlName","tipo_usuario","label","Tipo de usu\xe1rio","placeholder","--SELECIONE--",1,"ion-color-danger",3,"ionChange","value"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["expand","block","type","submit","color","primary",3,"click","disabled"],["slot","end","name","send"],["class","ion-text-wrap","labelPlacement","end","formControlName","flagAdmin",4,"ngIf"],["labelPlacement","end","formControlName","flagAdmin",1,"ion-text-wrap"],["size","6"],["formControlName","horario_id","label","Hor\xe1rio","placeholder","--SELECIONE--",1,"ion-color-danger",3,"value"],["formControlName","plano","label","Plano","placeholder","--SELECIONE--",1,"ion-color-danger",3,"value"],["formControlName","data_vencimento","label","Dia de Vencimento","placeholder","--SELECIONE--",1,"ion-color-danger",3,"value"],["formControlName","altura","label","Altura","type","text","placeholder","0.00 m",3,"ionChange","maskitoElement","maskito"],["formControlName","peso","label","Peso","type","text","placeholder","00.00 kg",3,"ionChange","maskitoElement","maskito"],["formControlName","imc","label","IMC Real","type","number","placeholder","00.00"],["label","IMC Ideal","type","number","placeholder","00.00","disabled","",3,"ngModelChange","ngModel","ngModelOptions"],["labelPlacement","end","label","","type","number","placeholder","00.00",1,"ion-text-wrap"],[4,"ngIf"],["labelPlacement","end","type","number","placeholder","00.00",1,"ion-text-wrap"],["label","Qual(s) ? ","type","text","formControlName","medicacao_em_uso",4,"ngIf"],["labelPlacement","end","formControlName","cardiopata","label","","type","number","placeholder","00.00",1,"ion-text-wrap"],["label","Qual(s) ? ","type","text","formControlName","relato_dor",4,"ngIf"],["labelPlacement","end","formControlName","avc","label","","type","number","placeholder","00.00",1,"ion-text-wrap"],["labelPlacement","end","formControlName","diabete","label","","type","number","placeholder","00.00",1,"ion-text-wrap"],["labelPlacement","end","formControlName","infarto","label","","type","number","placeholder","00.00",1,"ion-text-wrap"],["labelPlacement","end","formControlName","pressao_arterial","label","","type","number","placeholder","00.00",1,"ion-text-wrap"],["formControlName","classificacao_risco","id","classificacao_risco","label","Classifica\xe7\xe3o de Risco","placeholder","--SELECIONE--",3,"value","ngClass"],[3,"value","ngClass",4,"ngFor","ngForOf"],["label","Observa\xe7\xf5es: ","formControlName","observacoes","labelPlacement","fixed","placeholder","Escreva aqui","maxlength","250",3,"counterFormatter"],["label","Qual(s) ? ","type","text","formControlName","doencas"],["label","Qual(s) ? ","type","text","formControlName","medicacao_em_uso"],["label","Qual(s) ? ","type","text","formControlName","relato_dor"],[3,"value","ngClass"],[3,"color"],["name","circles"]],template:function(t,i){if(1&t){const a=e.RV6();e.j41(0,"ion-header",6)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Formul\xe1rio de Cadastro"),e.k0s()()(),e.j41(4,"ion-content",7)(5,"div",8)(6,"ion-card",9)(7,"ion-card-content")(8,"form",10),e.bIt("ionChange",function(c){return e.eBV(a),e.Njj(i.onFormChange(c))}),e.j41(9,"h1"),e.EFF(10,"Dados Pessoais"),e.k0s(),e.j41(11,"div",11),e.nrm(12,"ion-input",12),e.k0s(),e.j41(13,"div",11),e.nrm(14,"ion-input",13),e.k0s(),e.j41(15,"div",11),e.nrm(16,"ion-input",14),e.k0s(),e.j41(17,"div",11),e.nrm(18,"ion-input",15),e.k0s(),e.j41(19,"div",11)(20,"ion-select",16)(21,"ion-select-option",17),e.EFF(22,"--SELECIONE--"),e.k0s(),e.j41(23,"ion-select-option",18),e.EFF(24,"Masculino"),e.k0s(),e.j41(25,"ion-select-option",19),e.EFF(26,"Feminino"),e.k0s()()(),e.j41(27,"div",11)(28,"ion-select",20),e.bIt("ionChange",function(){return e.eBV(a),e.Njj(i.onChangeTipoUser())}),e.j41(29,"ion-select-option",17),e.EFF(30,"--SELECIONE--"),e.k0s(),e.DNE(31,Ee,2,2,"ion-select-option",21),e.k0s(),e.DNE(32,_e,2,1,"ng-container",22),e.k0s(),e.DNE(33,Me,86,27,"ng-template",null,0,e.C5r),e.k0s()(),e.j41(35,"ion-button",23),e.bIt("click",function(){return e.eBV(a),e.Njj(i.submitForm())}),e.DNE(36,xe,2,0,"span",22),e.nrm(37,"ion-icon",24),e.k0s()()()(),e.DNE(38,Re,1,0,"ng-template",null,1,e.C5r)}if(2&t){const a=e.sdS(34),r=e.sdS(39);e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(4),e.Y8G("formGroup",i.form),e.R7$(8),e.Y8G("maskito",i.cpfMask)("maskitoElement",i.maskPredicate),e.R7$(2),e.Y8G("maskito",i.phoneMask)("maskitoElement",i.maskPredicate),e.R7$(2),e.Y8G("value",null),e.R7$(),e.Y8G("value",null),e.R7$(7),e.Y8G("value",null),e.R7$(),e.Y8G("value",null),e.R7$(2),e.Y8G("ngForOf",i.tipoUsuarioList),e.R7$(),e.Y8G("ngIf",5!==i.form.value.tipo_usuario)("ngIfElse",a),e.R7$(3),e.Y8G("disabled",i.form.invalid||i.loading),e.R7$(),e.Y8G("ngIf",!i.loading)("ngIfElse",r)}},dependencies:[j.YU,j.Sq,j.bT,l.qT,l.BC,l.cb,l.tU,l.vS,l.j4,l.JD,g.Jm,g.b_,g.I9,g.eY,g.hU,g.W9,g.eU,g.iq,g.$w,g.ln,g.Nm,g.Ip,g.w2,g.nc,g.BC,g.ai,g.hB,g.su,g.Je,g.Gw,he],styles:[".form-group[_ngcontent-%COMP%]{text-wrap:wrap!important;white-space:normal!important}"]}),o})()},4321:(O,b,u)=>{u.d(b,{A:()=>l});const l={ALUNO_ID:5,INSTRUTOR_ID:2,GERENCIA_ID:3}},1907:(O,b,u)=>{u.d(b,{o:()=>F});var P=u(6697),l=u(5312),S=u(3953),C=u(1626);console.log(l.c.apiUrl);let F=(()=>{var e;class I{constructor(v){this.http=v}create(v){return delete v.id,delete v.created_at,this.http.post(l.c.apiUrl+"/usuario",v).pipe((0,P.s)(1))}findByFilters(v){const f=Object.keys(v).map(E=>`${E}=${v[E]}`);return this.http.get(l.c.apiUrl+"/usuario/search?"+f).pipe((0,P.s)(1))}}return(e=I).\u0275fac=function(v){return new(v||e)(S.KVO(C.Qq))},e.\u0275prov=S.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}),I})()}}]);