"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8919],{8919:(v,p,a)=>{a.r(p),a.d(p,{UsuariosPageModule:()=>F});var u=a(177),c=a(9417),n=a(8435),_=a(8160),g=a(4321),i=a(3953),m=a(1907);const U=()=>["/cadastro-usuario"];function r(t,l){if(1&t&&(i.j41(0,"p"),i.EFF(1),i.k0s()),2&t){const e=i.XpG().$implicit;i.R7$(),i.SpI("Plano: ",null==e||null==e.planos?null:e.planos.descricao,"")}}function f(t,l){if(1&t&&(i.j41(0,"p"),i.EFF(1),i.k0s()),2&t){const e=i.XpG().$implicit;i.R7$(),i.SpI("Hor\xe1rio: ",null==e||null==e.horarios||null==e.horarios.hora_inicio?null:e.horarios.hora_inicio.slice(0,5),"")}}function h(t,l){if(1&t){const e=i.RV6();i.j41(0,"ion-item")(1,"ion-avatar",10),i.nrm(2,"img",11),i.k0s(),i.j41(3,"ion-row",12)(4,"ion-col")(5,"ion-label")(6,"h2"),i.EFF(7),i.k0s(),i.j41(8,"p"),i.EFF(9),i.k0s(),i.DNE(10,r,2,1,"p",13)(11,f,2,1,"p",13),i.k0s()(),i.j41(12,"ion-col",14)(13,"ion-button",15),i.bIt("click",function(){const s=i.eBV(e).$implicit,d=i.XpG(2);return i.Njj(d.showNavigationOptions(s))}),i.nrm(14,"ion-icon",16),i.k0s()()()()}if(2&t){const e=l.$implicit;i.R7$(2),i.Y8G("src","M"===(null==e?null:e.genero)?"https://cdn-icons-png.flaticon.com/128/4140/4140048.png":"https://cdn-icons-png.flaticon.com/128/4140/4140047.png",i.B4B),i.R7$(5),i.JRh(null==e?null:e.nome),i.R7$(2),i.SpI("Idade: ",null==e?null:e.idade,""),i.R7$(),i.Y8G("ngIf",null==e?null:e.planos),i.R7$(),i.Y8G("ngIf",null==e?null:e.horarios),i.R7$(2),i.Y8G("id","poppover-router-options-trigger_"+e.id)}}function P(t,l){if(1&t&&(i.j41(0,"ion-list",8),i.DNE(1,h,15,6,"ion-item",9),i.k0s()),2&t){const e=i.XpG();i.Y8G("inset",!0),i.R7$(),i.Y8G("ngForOf",e.usuarioList)}}function I(t,l){if(1&t){const e=i.RV6();i.j41(0,"ion-list")(1,"ion-item",17),i.bIt("click",function(){i.eBV(e);const s=i.XpG();return i.Njj(s.navigate("/cadastro-usuario",s.selectedUsuario))}),i.EFF(2,"Ficha de Inscri\xe7\xe3o"),i.k0s(),i.j41(3,"ion-item",17),i.bIt("click",function(){i.eBV(e);const s=i.XpG();return i.Njj(s.navigate("/ficha-treino",s.selectedUsuario))}),i.EFF(4,"Ficha de Treino"),i.k0s()()}}const E=[{path:"",component:(()=>{var t;class l{constructor(o,s,d){this.usuarioService=o,this.router=s,this.modalController=d,this.Constants=g.A,this.tipoSelected=g.A.ALUNO_ID,this.usuarioList=[],this.isOpen=!1}ngOnInit(){this.getUsuarios()}changeTipoUsuario(o){this.tipoSelected=o.detail.value,this.getUsuarios(this.tipoSelected)}getUsuarios(o=g.A.ALUNO_ID){this.usuarioService.findByFilters({tipo_usuario:o}).subscribe({next:s=>{this.usuarioList=s.map(d=>({...d,idade:(new Date).getFullYear()-new Date(d.data_nascimento).getFullYear()}))}})}showNavigationOptions(o){this.isOpen=!0,this.selectedUsuario=o}navigate(o,s){this.isOpen=!1,console.log("this.isOpen: ",this.isOpen),setTimeout(()=>{console.log("dentro do timeout"),this.router.navigate([o],{queryParams:{userId:s.id}})},80)}}return(t=l).\u0275fac=function(o){return new(o||t)(i.rXU(m.o),i.rXU(_.Ix),i.rXU(n.W3))},t.\u0275cmp=i.VBU({type:t,selectors:[["app-usuarios"]],decls:19,vars:11,consts:[[3,"translucent"],[3,"fullscreen"],["value","5",3,"ionChange"],[3,"value"],["slot","fixed","vertical","bottom","horizontal","end",3,"edge","routerLink"],["name","add"],[3,"inset",4,"ngIf"],["reference","trigger",3,"didDismiss","isOpen","trigger"],[3,"inset"],[4,"ngFor","ngForOf"],["slot","start"],[3,"src"],[1,"w-75","ion-align-items-center","ion-margin"],[4,"ngIf"],["size","1"],["fill","clear",3,"click","id"],["name","ellipsis-vertical"],[3,"click"]],template:function(o,s){1&o&&(i.j41(0,"ion-header",0),i.nrm(1,"ion-toolbar"),i.k0s(),i.j41(2,"ion-content",1)(3,"ion-segment",2),i.bIt("ionChange",function(O){return s.changeTipoUsuario(O)}),i.j41(4,"ion-segment-button",3)(5,"ion-label"),i.EFF(6,"Alunos"),i.k0s()(),i.j41(7,"ion-segment-button",3)(8,"ion-label"),i.EFF(9,"Instrutores"),i.k0s()(),i.j41(10,"ion-segment-button",3)(11,"ion-label"),i.EFF(12,"Gerentes"),i.k0s()()(),i.j41(13,"ion-fab",4)(14,"ion-fab-button"),i.nrm(15,"ion-icon",5),i.k0s()(),i.DNE(16,P,2,2,"ion-list",6),i.k0s(),i.j41(17,"ion-popover",7),i.bIt("didDismiss",function(){return s.isOpen=!1}),i.DNE(18,I,5,0,"ng-template"),i.k0s()),2&o&&(i.Y8G("translucent",!0),i.R7$(2),i.Y8G("fullscreen",!0),i.R7$(2),i.Y8G("value",s.Constants.ALUNO_ID),i.R7$(3),i.Y8G("value",s.Constants.INSTRUTOR_ID),i.R7$(3),i.Y8G("value",s.Constants.GERENCIA_ID),i.R7$(3),i.Y8G("edge",!1)("routerLink",i.lJ4(10,U)),i.R7$(3),i.Y8G("ngIf",s.usuarioList.length),i.R7$(),i.Y8G("isOpen",s.isOpen)("trigger","poppover-router-options-trigger_"+(null==s.selectedUsuario?null:s.selectedUsuario.id)))},dependencies:[u.Sq,u.bT,n.mC,n.Jm,n.hU,n.W9,n.Q8,n.YW,n.eU,n.iq,n.uz,n.he,n.nf,n.ln,n.Gp,n.eP,n.ai,n.CF,n.Je,n.N7,_.Wk],styles:["ion-icon[_ngcontent-%COMP%]{font-size:2.1em;cursor:pointer}"]}),l})()}];let R=(()=>{var t;class l{}return(t=l).\u0275fac=function(o){return new(o||t)},t.\u0275mod=i.$C({type:t}),t.\u0275inj=i.G2t({imports:[_.iI.forChild(E),_.iI]}),l})(),F=(()=>{var t;class l{}return(t=l).\u0275fac=function(o){return new(o||t)},t.\u0275mod=i.$C({type:t}),t.\u0275inj=i.G2t({imports:[u.MD,c.YN,n.bv,R]}),l})()},4321:(v,p,a)=>{a.d(p,{A:()=>c});const c={ALUNO_ID:5,INSTRUTOR_ID:2,GERENCIA_ID:3,phoneMask:{mask:["(",/\d/,/\d/,")"," ",/\d/," ",/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]},cpfMask:{mask:[/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,"-",/\d/,/\d/]},alturaMask:{mask:[/\d/,".",/\d/,/\d/]},pesoMask:{mask:[/\d/,/\d/,".",/\d/,/\d/]}}},1907:(v,p,a)=>{a.d(p,{o:()=>g});var u=a(6697),c=a(5312),n=a(3953),_=a(1626);console.log(c.c.apiUrl);let g=(()=>{var i;class m{constructor(r){this.http=r}create(r){return delete r.id,delete r.created_at,this.http.post(c.c.apiUrl+"/usuario",r).pipe((0,u.s)(1))}update(r){return delete r.created_at,this.http.put(c.c.apiUrl+"/usuario",r).pipe((0,u.s)(1))}findByFilters(r){const f=Object.keys(r).map(h=>`${h}=${r[h]}`);return this.http.get(c.c.apiUrl+"/usuario/search?"+f).pipe((0,u.s)(1))}}return(i=m).\u0275fac=function(r){return new(r||i)(n.KVO(_.Qq))},i.\u0275prov=n.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),m})()}}]);